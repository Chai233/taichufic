import{p as s}from "./index-CAxVsxW7.js";import{B as t,ag as r,ah as h}from "./request-CQ5xDpzU.js";const u=({onDownloadScript:e,onYeildStoryboard:n,onDownloadStoryboard:o,onYeildMove:a,onDownloadMove:l,onCompoundMove:c,children:i})=>s.jsxs("div",{className:"common-flow-wrap",children:[s.jsx("div",{className:"common-flow-content",children:i}),s.jsxs("div",{className:"common-flow-actions",children:[s.jsx(t,{className:"action-default",children:"重新生成"}),s.jsxs("div",{className:"common-flow-actions-extral",children:[e?s.jsx(t,{className:"action-dashed",onClick:e,children:"下载剧本"}):null,n?s.jsxs(t,{type:"primary",onClick:n,children:[s.jsx("img",{src:"https://taichu-static.oss-cn-hangzhou.aliyuncs.com/photo/upload-beautify.png",alt:""}),"生成分镜"]}):null,o?s.jsx(t,{className:"action-dashed",onClick:o,children:"下载分镜"}):null,a?s.jsxs(t,{type:"primary",onClick:a,children:[s.jsx("img",{src:"https://taichu-static.oss-cn-hangzhou.aliyuncs.com/photo/upload-beautify.png",alt:""}),"生成视频"]}):null,l?s.jsx(t,{className:"action-dashed",onClick:l,children:"下载视频"}):null,c?s.jsxs(t,{type:"primary",onClick:c,children:[s.jsx("img",{src:"https://taichu-static.oss-cn-hangzhou.aliyuncs.com/photo/upload-beautify.png",alt:""}),"合成视频"]}):null]})]})]}),p=(e, n)=>{const o={"X-Auth-Id":r()};fetch(`${h}${e}`,{method:"get",headers:o}).then(a=>{if(!a.ok)throw new Error("HTTP error "+a.status);return a.blob()}).then(a=>{const l=window.URL.createObjectURL(a),c=document.createElement("a");c.href=l,c.download=`${n}.zip`,document.body.appendChild(c),c.click(),c.remove(),window.URL.revokeObjectURL(l)}).catch(a=>{console.error("下载失败",a),alert("下载失败，请重试")})};export{u as F,p as d};
